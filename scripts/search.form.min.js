function build(e,t){var n=t?fadeDur:0;current.engine=e;e=eng[e];$("#title").html(titlePrefix+e.pageTitle);$("#method").stop().queue("fx",[]).animate({opacity:0},n);op=idxState?idxFadedOpacity:0;$("#engines a").stop().queue("fx",[]).removeClass("active");$("#"+current.engine+"_logo").addClass("active").animate({opacity:1},fadeDur);$("#engines a:not(.active)").animate({opacity:op},fadeDur);if(typeof e.languages=="object")setLang(firstProp(e.languages));else $("#lang").fadeOut(fadeDur);closeSugBox(false);$("#i").attr("autosave","com.infinise.go."+current.engine);$("#input input").focus();setTimeout(function(){$("#method").html("");for(place in e.places)$("#method").append("<a onclick='setPlace(this)'>"+place+"</a>");setPlace("#method a:first");$("#method").animate({opacity:1},fadeDur)},n)}function nextPlace(){var e=findNext(eng[current.engine].places,current.place);$("#method a").each(function(){if($(this).html()==e)setPlace($(this))})}function nextLanguage(){setLang(findNext(eng[current.engine].languages,current.language))}function setPlace(e){current.place=$(e).html();$("#method a").removeClass("active");$(e).addClass("active");$("#input input").focus();if(eng[current.engine].places[current.place][1]!==false){fetchSuggestions();$("#i").attr("autocomplete","off")}else{closeSugBox(false);$("#i").attr("autocomplete","on")}}function setLang(e){current.language=e;$("#lang").fadeIn(fadeDur).html(e);$("#input input").focus()}function doSearch(){var e=eng[current.engine].places[current.place][0];e=e.replace("%query%",encodeURIComponent($("#i").val()));if(typeof eng[current.engine].languages=="object")e=e.replace("%lang%",eng[current.engine].languages[current.language]);window.location.href=e;return false}